(()=>{"use strict";const e=()=>{let e=(()=>{let e=[new Array(8),new Array(8),new Array(8),new Array(8),new Array(8),new Array(8),new Array(8),new Array(8)];return{playerFactory:e=>{const t={};return t.color=e,t.human=!1,t.king=!0,t},pieceFactory:(e,t)=>{const c={};return c.color=t,c.type=e,c.img=`../public/images/pieces/${t} ${e}.png`,c},squares:e,setPieceTo:(t,c,a,r)=>{t.coordinates=[c,a],r&&(t.start=!0),e[c][a]=t}}})(),t=e.squares;return{placePieces:()=>{for(let t=0;t<=7;t++)e.setPieceTo(e.pieceFactory("pawn","white"),t,1,!0);for(let t=0;t<=7;t++)e.setPieceTo(e.pieceFactory("pawn","black"),t,6,!0);e.setPieceTo(e.pieceFactory("rook","white"),0,0,!0),e.setPieceTo(e.pieceFactory("rook","white"),7,0,!0),e.setPieceTo(e.pieceFactory("rook","black"),0,7,!0),e.setPieceTo(e.pieceFactory("rook","black"),7,7,!0),e.setPieceTo(e.pieceFactory("knight","white"),1,0),e.setPieceTo(e.pieceFactory("knight","white"),6,0),e.setPieceTo(e.pieceFactory("knight","black"),1,7),e.setPieceTo(e.pieceFactory("knight","black"),6,7),e.setPieceTo(e.pieceFactory("bishop","white"),2,0),e.setPieceTo(e.pieceFactory("bishop","white"),5,0),e.setPieceTo(e.pieceFactory("bishop","black"),2,7),e.setPieceTo(e.pieceFactory("bishop","black"),5,7),e.setPieceTo(e.pieceFactory("queen","white"),3,0),e.setPieceTo(e.pieceFactory("queen","black"),3,7),e.setPieceTo(e.pieceFactory("king","white"),4,0,!0),e.setPieceTo(e.pieceFactory("king","black"),4,7,!0)},renderBoard:()=>{let e=!1;t.forEach(((t,c)=>{let a=document.createElement("tr");a.setAttribute("class","tableRow");for(let c=0;c<=7;c++){let r=document.createElement("td");r.setAttribute("class","boardSquare");let i=t[c];if(void 0!==i){let e=document.createElement("img");e.setAttribute("class","pieceImg"),e.setAttribute("src",i.img),e.setAttribute("alt",`${i.color} ${i.type}`),r.setAttribute(`data-${i.color}`,"true"),r.appendChild(e)}!0===e?(e=!1,r.classList.add("green")):e=!0,a.appendChild(r)}e=!0!==e,document.getElementById("boardSquares").appendChild(a)}))},chooseSide:t=>{let c=e.playerFactory("white"),a=e.playerFactory("black");return"1"===t?c.human=!0:a.human=!0,{player1:c,player2:a}},playerCanClick:e=>{document.querySelectorAll(`[data-${e}='true']`).forEach((e=>{e.addEventListener("click",(()=>{console.log("I'm working!")})),e.classList.add("active")}))}}};function t(e){document.querySelector(".pages .page.active").classList.remove("active"),document.querySelector(`.pages .page[data-page="${e}"]`).classList.add("active")}function c(t){let c=e();c.placePieces(),c.renderBoard(),document.getElementById("sidechoice").classList.add("hide"),c.chooseSide(t.target.attributes.value.value).player1.human?c.playerCanClick("white"):c.playerCanClick("black")}window.onload=()=>{const e=document.querySelectorAll("[data-switcher]");for(let c=0;c<e.length;c++){const a=e[c],r=a.dataset.tab;a.addEventListener("click",(()=>{document.querySelector(".tabs .tab.active").classList.remove("active"),a.parentNode.classList.add("active"),t(r)}))}},document.getElementById("whitecolor").addEventListener("click",(e=>{c(e)})),document.getElementById("blackcolor").addEventListener("click",(e=>{c(e)}))})();